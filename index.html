<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>y7elmy Guitar Lessons</title>
    <link href="styles.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://www.paypal.com/sdk/js?client-id=AZNLgF5kKZIUiCGEf7BFFaFVL2u3w34nrdpduxm8bz6Ggw0LYTGtJDg5wiPedrggLbFuKT0ztzFDBslZ&currency=USD"></script>
<body>
    <!-- Header/Hero Section -->
    <header class="header">
      <!-- Modified navigation bar with login button -->
<nav class="navbar">
    <div class="logo">
        <span class="gradient-text">y7elmy</span> Guitar
    </div>
    <div class="nav-links">
        <a href="#features">Features</a>
        <a href="#pricing">Pricing</a>
        <a href="#booking">Book a Lesson</a>
        <a href="#testimonials">Feedback</a>
    </div>
    <div class="user-actions">
        <a href="login.php" id="loginBtn" class="login-button">Login</a>
        <a href="#booking" class="call-to-action">Start Learning</a>
    </div>
            </nav>  
        
        <div class="hero">
            <div class="hero-content">
                <h1>Master the <span class="gradient-text">Guitar</span> with Personalized Online Lessons</h1>
                <p>Learn from professional guitarist y7elmy at your own pace, from anywhere in the world. Whether you're a beginner or looking to refine your skills, I'll help you achieve your musical goals.</p>
                <a href="#booking" class="call-to-action">Book Your First Lesson</a>
            </div>
            <img src="/public/lesson2.png" alt="Guitar Lessons" class="hero-image">
        </div>
    </header>
    
    <!-- Features Section -->
    <section class="section" id="features">
        <h2 class="section-title">Why Choose <span class="gradient-text">My Lessons</span></h2>
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <h3>Personalized Approach</h3>
                <p>Custom lesson plans tailored to your skill level, learning style, and musical goals.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-guitar"></i>
                </div>
                <h3>All Styles Covered</h3>
                <p>From rock and blues to jazz and classical - learn any style that interests you.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-video"></i>
                </div>
                <h3>HD Video Lessons</h3>
                <p>Crystal clear video and audio quality for the best online learning experience.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <h3>Flexible Schedule</h3>
                <p>Book lessons at your convenience with availability from 3 PM to 1 AM daily.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-music"></i>
                </div>
                <h3>Learn Your Favorite Songs</h3>
                <p>Master the songs you love while developing essential guitar techniques.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-certificate"></i>
                </div>
                <h3>Professional Experience</h3>
                <p>Learn from an experienced guitarist with a passion for teaching.</p>
            </div>
        </div>
    </section>
    
    <!-- Pricing Section -->
    <section class="section" id="pricing">
        <h2 class="section-title">Simple <span class="gradient-text">Pricing</span></h2>
        <div class="pricing">
            <div class="price-card">
                <h3>Single Lesson</h3>
                <div class="price">$25</div>
                <ul>
                    <li>1-hour private lesson</li>
                    <li>Personalized instruction</li>
                    <li>Lesson materials included</li>
                    <li>Perfect for trying it out</li>
                </ul>
                <a href="#booking" class="call-to-action">Book Now</a>
            </div>
            
            <div class="price-card featured">
                <h3>12-Lesson Package</h3>
                <div class="price"><span class="original-price">$300</span>$200</div>
                <ul>
                    <li>12 one-hour private lessons</li>
                    <li>$100 discount ($8.33 savings per lesson)</li>
                    <li>Customized learning plan</li>
                    <li>Premium support between lessons</li>
                    <li>Progress tracking</li>
                    <li>Bonus practice materials</li>
                </ul>
                <a href="#booking" class="call-to-action">Get Started</a>        
            </div>
        </div>
    </section>
    
 <!-- Updated Booking Section -->
<section class="booking-section" id="booking">
    <h2 class="section-title">Book Your <span class="gradient-text">Guitar Lesson</span></h2>
    <div class="booking-container">
        <div class="booking-image">
            <img src="/public/lesson1.png" alt="Guitar Lesson">
        </div>
        <div class="booking-form login-required"> <!-- Added login-required class -->
            <form id="lessonForm">
                <div class="form-group">
                    <label for="package">Select Package:</label>
                    <select id="package" class="form-control">
                        <option value="single">Single Lesson - $25</option>
                        <option value="package">12-Lesson Package - $200 (Save $100)</option>
                    </select>
                </div>
                <div class="booking-calendar">
                    <div class="form-group">
                        <label>Select Day:</label>
                        <div class="selection-required" id="dayRequired">Please select a day</div>
                        <div class="days-select">
                            <div class="day-option" data-day="Sun">Sun</div>
                            <div class="day-option" data-day="Mon">Mon</div>
                            <div class="day-option" data-day="Tue">Tue</div>
                            <div class="day-option" data-day="Wed">Wed</div>
                            <div class="day-option" data-day="Thu">Thu</div>
                            <div class="day-option" data-day="Fri">Fri</div>
                            <div class="day-option" data-day="Sat">Sat</div>
                        </div>
                    </div>
                </div>                
                <div class="form-group">
                    <label>Select Time:</label>
                    <div class="selection-required" id="timeRequired">Please select a time</div>
                    <div class="availability-legend">
                        <div class="availability-indicator available-indicator">
                            <span></span> Available
                        </div>
                        <div class="availability-indicator unavailable-indicator">
                            <span></span> Booked
                        </div>
                    </div>
                    <div class="time-slots">
                        <div class="time-slot" data-time="15:00">3:00 PM</div>
                        <div class="time-slot" data-time="16:00">4:00 PM</div>
                        <div class="time-slot" data-time="17:00">5:00 PM</div>
                        <div class="time-slot" data-time="18:00">6:00 PM</div>
                        <div class="time-slot" data-time="19:00">7:00 PM</div>
                        <div class="time-slot" data-time="20:00">8:00 PM</div>
                        <div class="time-slot" data-time="21:00">9:00 PM</div>
                        <div class="time-slot" data-time="22:00">10:00 PM</div>
                        <div class="time-slot" data-time="23:00">11:00 PM</div>
                        <div class="time-slot" data-time="00:00">12:00 AM</div>
                        <div class="time-slot" data-time="01:00">1:00 AM</div>
                    </div>
                </div>
                
                <div class="booking-summary" id="bookingSummary">
                    <h3>Booking Summary</h3>
                    <div class="summary-details">
                        <div class="summary-item">
                            <span class="summary-label">Package:</span>
                            <span class="summary-value" id="summaryPackage">Single Lesson</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Date:</span>
                            <span class="summary-value" id="summaryDate">Not selected</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Time:</span>
                            <span class="summary-value" id="summaryTime">Not selected</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total:</span>
                            <span class="summary-value" id="summaryTotal">$25.00</span>
                        </div>
                    </div>
                </div>
                
                <!-- PayPal button container -->
                <div id="paypal-button-container" class="disabled"></div>
            </form>
        </div>
    </div>
</section>
    <div id="successMessage" class="alert alert-success" style="display:none;">Payment Successful! Thank you for booking your lesson.</div>
    <div id="errorMessage" class="alert alert-danger" style="display:none;">An error occurred during payment. Please try again.</div>
    <div id="cancelMessage" class="alert alert-warning" style="display:none;">Payment was cancelled. Please try again.</div>
    <script>
                paypal.Buttons({
                    createOrder: function(data, actions) {
                        const packageSelect = document.getElementById('package');
                        const amount = packageSelect.value === 'package' ? '200.00' : '25.00';
                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: amount
                                }
                            }]
                        });
                    },
                    onApprove: function(data, actions) {
                        return actions.order.capture().then(function(details) {
                            document.getElementById('successMessage').style.display = 'block';
                            document.getElementById('errorMessage').style.display = 'none';
                            alert('Payment Successful! Thank you, ' + details.payer.name.given_name);
                            // Here you can add code to update your backend about the successful booking
                        });
                    },
                    onCancel: function(data) {
                        document.getElementById('cancelMessage').style.display = 'block';
                    },
                    onError: function(err) {
                        document.getElementById('errorMessage').style.display = 'block';
                        console.error('PayPal Error:', err);
                    }
                }).render('#paypal-button-container');
            </script>

        </div>
    </div>
</section>
    
    <!-- Testimonials Section -->
    <section class="section" id="testimonials">
        <h2 class="section-title">What My <span class="gradient-text">Students Say</span></h2>
        <div class="testimonials">
            <div class="testimonial-card">
                <p class="testimonial-text">After just 3 months of lessons with y7elmy, I went from never holding a guitar to playing my favorite songs. His teaching style is patient and encouraging!</p>
                <div class="testimonial-author">
                    <div class="author-avatar">
                        <img src="/api/placeholder/50/50" alt="Sarah M.">
                    </div>
                    <div>
                        <div class="author-name">Sarah M.</div>
                        <div class="author-title">Beginner Student</div>
                    </div>
                </div>
            </div>
            
            <div class="testimonial-card">
                <p class="testimonial-text">As an intermediate player, I was looking to break through a plateau. y7elmy helped me master techniques I'd been struggling with for years. Worth every penny!</p>
                <div class="testimonial-author">
                    <div class="author-avatar">
                        <img src="/api/placeholder/50/50" alt="Michael K.">
                    </div>
                    <div>
                        <div class="author-name">Michael K.</div>
                        <div class="author-title">Intermediate Student</div>
                    </div>
                </div>
            </div>
            
            <div class="testimonial-card">
                <p class="testimonial-text">The flexibility of online lessons with y7elmy has been incredible. Despite being in a different time zone, he accommodates my schedule perfectly. Top-notch instruction!</p>
                <div class="testimonial-author">
                    <div class="author-avatar">
                        <img src="/api/placeholder/50/50" alt="Elena R.">
                    </div>
                    <div>
                        <div class="author-name">Elena R.</div>
                        <div class="author-title">Advanced Student</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="social-links">
            <a href="https://www.tiktok.com/@y7elmy" target="_blank" class="social-link"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.instagram.com/yousefhelmymusic/" target="_blank" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="https://www.youtube.com/@yousefhelmymusic" target="_blank" class="social-link"><i class="fab fa-youtube"></i></a>
            <a href="mailto:y7elmylessons@gmail.com" class="social-link"><i class="fas fa-envelope"></i></a>
        </div>
        <p class="copyright">© 2025 y7elmy Guitar Lessons. All rights reserved.</p>
    </footer>
    <!-- Updated Authentication Modal -->
<div class="auth-modal" id="authModal">
    <div class="modal-content">
        <button class="close-modal" id="closeModal"><i class="fas fa-times"></i></button>
        <div class="auth-tabs">
            <div class="auth-tab active" data-tab="login">Login</div>
            <div class="auth-tab" data-tab="signup">Sign Up</div>
        </div>
        
        <form class="auth-form active" id="loginForm">
            <div class="form-group">
            <label for="loginEmail">Email:</label>
            <input type="email" id="loginEmail" class="form-control" required>
            </div>
            <div class="form-group">
            <label for="loginPassword">Password:</label>
            <input type="password" id="loginPassword" class="form-control" required>
            </div>
            <div class="form-group">
            <div class="remember-forgot">
                <div class="remember-me">
                <input type="checkbox" id="rememberMe">
                <label for="rememberMe">Remember me</label>
                </div>
                <a href="#" class="forgot-password">Forgot Password?</a>
            </div>
            </div>
            <button type="submit" class="btn-submit">Login</button>
            <div class="auth-separator">
            <span>OR</span>
            </div>
            <div class="social-auth">>
                <a href="login.php">
                    <button>Sign in with Google</button>
                </a>                
            </div>
        </form>
    
        <form class="auth-form" id="signupForm">
            <div class="form-group">
                <label for="signupName">Full Name:</label>
                <input type="text" id="signupName" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="signupEmail">Email:</label>
                <input type="email" id="signupEmail" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="signupPassword">Password:</label>
                <input type="password" id="signupPassword" class="form-control" required>
                <div class="password-strength"></div>
                <div class="password-requirements">
                    Password must contain at least 8 characters, including uppercase, lowercase, and numbers
                </div>
            </div>
            <div class="form-group">
                <label for="signupConfirmPassword">Confirm Password:</label>
                <input type="password" id="signupConfirmPassword" class="form-control" required>
            </div>
            <div class="form-group">
                <label>Experience Level:</label>
                <div class="experience-select">
                    <div class="experience-option" data-value="beginner">Beginner</div>
                    <div class="experience-option" data-value="intermediate">Intermediate</div>
                    <div class="experience-option" data-value="advanced">Advanced</div>
                </div>
            </div>
            <div class="form-group">
                <div class="terms">
                    <input type="checkbox" id="agreeTerms" required>
                    <label for="agreeTerms">I agree to the <a href="#">Terms & Conditions</a></label>
                </div>
            </div>
            <button type="submit" class="btn-submit">Create Account</button>
            <div class="auth-separator">
                <span>OR</span>
            </div>
            <div class="social-auth">
                <button type="button" class="social-auth-btn google">
                    <i class="fab fa-google"></i> Sign up with Google
                </button>
            </div>
        </form>
    </div>
</div>
    <!-- This part goes inside the signup form in index.html -->
<form class="auth-form" id="signupForm">
    <div class="form-group">
        <label for="signupName">Full Name:</label>
        <input type="text" id="signupName" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="signupEmail">Email:</label>
        <input type="email" id="signupEmail" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="signupPassword">Password:</label>
        <input type="password" id="signupPassword" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="signupConfirmPassword">Confirm Password:</label>
        <input type="password" id="signupConfirmPassword" class="form-control" required>
    </div>
    <div class="form-group">
        <label>Experience Level:</label>
        <div class="experience-select">
            <div class="experience-option" data-value="beginner">Beginner</div>
            <div class="experience-option" data-value="intermediate">Intermediate</div>
            <div class="experience-option" data-value="advanced">Advanced</div>
        </div>
    </div>
    <button type="submit" class="btn-submit">Create Account</button>
</form>
    <script src="script.js"></script>
    <button id="login-btn">Login</button>
<script>
function fetchWithTimeout(url, options = {}, timeout = 5000) {
    return Promise.race([
        fetch(url, options),
        new Promise((_, reject) =>
            setTimeout(() => reject(new Error('Request timed out')), timeout)
        )
    ]);
}

const loginBtn = document.getElementById('login-btn');

loginBtn.addEventListener('click', function (e) {
    e.preventDefault();

    fetchWithTimeout('check_login.php', {}, 3000)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.logged_in) {
                window.location.href = 'dashboard.php'; // Or wherever you want
            } else {
                openAuthModal(); // Make sure this function exists
            }
        })
        .catch(error => {
            console.error('Login check failed:', error);
            openAuthModal(); // fallback
        });
});
</script>
</body>
</html>
